<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interaktivt Webkart - GIS Kartografi</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>üó∫Ô∏è Interaktivt Webkart - Norge</h1>
            <p>GeoJSON, OGC API og PostGIS Demonstrasjon</p>
        </header>

        <!-- Control Panel -->
        <div class="control-panel">
            <div class="control-section">
                <h3>üìç Romlig Sp√∏rring</h3>
                <div class="spatial-query">
                    <label>S√∏k innenfor radius (km):</label>
                    <input type="number" id="radius-input" value="100" min="10" max="500" step="10">
                    <button id="search-btn" class="btn btn-primary">S√∏k n√¶r mark√∏r</button>
                    <div id="query-results" class="results-box"></div>
                </div>
            </div>

            <div class="control-section">
                <h3>üé® Data-drevet Styling</h3>
                <div class="styling-controls">
                    <label>
                        <input type="checkbox" id="toggle-population" checked>
                        St√∏rrelse basert p√• befolkning
                    </label>
                    <label>
                        <input type="checkbox" id="toggle-colors" checked>
                        Farge basert p√• kategori
                    </label>
                </div>
            </div>

            <div class="control-section">
                <h3>üîÑ Koordinatsystem</h3>
                <div class="coord-display">
                    <div>Museposisjon: <span id="mouse-coords">-</span></div>
                    <div>Projeksjon: <span id="current-proj">EPSG:4326 (WGS84)</span></div>
                </div>
            </div>

            <div class="control-section">
                <h3>‚ÑπÔ∏è Informasjon</h3>
                <div class="info-box">
                    <p><strong>Datakilder:</strong></p>
                    <ul>
                        <li>‚úì Lokale GeoJSON-filer</li>
                        <li>‚úì OGC API Features (simulert)</li>
                        <li>‚úì PostGIS database (via Docker)</li>
                    </ul>
                    <p><strong>Funksjoner:</strong></p>
                    <ul>
                        <li>Layer control (topp h√∏yre)</li>
                        <li>Interaktive popups</li>
                        <li>Romlige sp√∏rringer</li>
                        <li>Data-drevet styling</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Map Container -->
        <div id="map"></div>

        <!-- Legend -->
        <div class="legend">
            <h4>Tegnforklaring</h4>
            <div class="legend-item">
                <span class="legend-icon city"></span>
                <span>Byer</span>
            </div>
            <div class="legend-item">
                <span class="legend-icon park"></span>
                <span>Nasjonalparker</span>
            </div>
            <div class="legend-item">
                <span class="legend-icon route"></span>
                <span>Turruter</span>
            </div>
            <div class="legend-item">
                <span class="legend-icon poi"></span>
                <span>Severdigheter</span>
            </div>
        </div>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <!-- Proj4 for coordinate transformations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4/2.9.2/proj4.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4leaflet/1.0.2/proj4leaflet.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="app.js"></script>
</body>
</html>
